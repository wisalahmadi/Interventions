
    <div class="container">
        <br />
        <div class="card">
            <div class="card-header text-white bg-secondary">
    <!-- L'en-tête ici -->
            </div>
            <div class="card-body">
                <h5 class="card-title">Special title treatment</h5>

            </div>

            <div class="card-text">
                <form class="form-horizontal" 
                novalidate 
                (ngSubmit)="save()" 
                [formGroup]="problemeForm">
                    <!-- Zone de texte PRENOM -->
                    <div class="form-group row">
                        <label for="prenomId" class="col-md-2 col-form-label text-right">Prénom :</label>
                        <div class="col-md-10">
                            
                            <input class="form-control" 
                            id="prenomId" 
                            type="text" 
                            placeholder="Votre prénom ici (obligatoire)"
                            formControlName="prenom" 
                            [ngClass]="{'is-valid': (problemeForm.get('prenom').touched || problemeForm.get('prenom').dirty) && problemeForm.get('prenom').valid,
                            'is-invalid': (problemeForm.get('prenom').touched || problemeForm.get('prenom').dirty) && !problemeForm.get('prenom').valid}" />
                        </div>

                        
                        <!-- Zone de texte nom -->

             <div class="form-group row">          

                <label for="nomId" class="col-md-2 col-form-label text-right">Nom :</label>

                <div class="col-md-10">

                  <input class="form-control"

                  id="nomId"

                  type="text"

                  placeholder="Votre nom ici (obligatoire)"

                  formControlName="nom"            

                  [ngClass]="{'is-valid': (problemeForm.get('nom').touched ||

                  problemeForm.get('nom').dirty) &&

                  problemeForm.get('nom').valid,

                  'is-invalid': (problemeForm.get('nom').touched ||

                  problemeForm.get('nom').dirty) &&

                  !problemeForm.get('nom').valid}"

                  />

                 

                <span class="form-text" *ngIf="(problemeForm.get('nom').touched ||problemeForm.get('nom').dirty) &&(problemeForm.get('nom').errors)">

                    <span *ngIf=" problemeForm.get('nom').errors['required']">

                            <small class="text-muted">Merci de saisir votre nom.</small>

                    </span>

                    

                    <span *ngIf="problemeForm.get('nom').errors['nbreCaracteresDeTrop']">

                            <small class="text-muted">Veuillez entrer moins de caractères.</small>

                    </span>

                </span>

            </div>
            </div>

                    </div>
                    <br>
                    <!-- Zone de liste déroulante TYPE DE PROBLÈME -->
                    <div class="form-group row">
                        <label for="noTypeProblemeId" class="col-md-2 col-form-label text-right">Type de problème :</label>
                        <div class="col-md-10">
                            <select class="form-control"
                                id="noTypeProblemeId"
                                formControlName="noTypeProbleme"
                                [ngClass]="{'is-valid': (problemeForm.get('noTypeProbleme').touched || problemeForm.get('noTypeProbleme').dirty) &&
                                problemeForm.get('noTypeProbleme').valid,
                                'is-invalid': (problemeForm.get('noTypeProbleme').touched || problemeForm.get('noTypeProbleme').dirty) &&
                                !problemeForm.get('noTypeProbleme').valid }"
                                >
                                <option value="">Sélectionner un type de problème (obligatoire) ...</option>
                                
                                <option *ngFor="let tp of typesProbleme" [value]="tp.id">{{tp.descriptionTypeProbleme}}</option>
                            </select>
                            <span class="form-text" *ngIf="(problemeForm.get('noTypeProbleme').touched ||
                            problemeForm.get('noTypeProbleme').dirty) &&
                            problemeForm.get('noTypeProbleme').errors">
                            <span *ngIf="problemeForm.get('noTypeProbleme').errors['required']">
                                <small class="text-muted">
                                Merci de sélectionner un type de problème.
                                </small>
                            </span>
                            </span>
                        </div>
                        </div> 
                    
                    <br>
                    <!-- Zone bouton radio  -->
                        <div class="form-group row">
                        <div class="col-md-2"></div>
                        <label for="notificationId" class="col-md-10 col-form-label">Notifiez-moi pour le statut de ma demande :</label>
                        <div class="col-md-2"></div>
                        <div class="col-md-10">
                            <label class="radio-inline">
                                <input type="radio"
                                value="pasnotification"
                                id="NotifiezMoiId"
                                formControlName = "notification">&nbsp;Ne pas me notifier
                            </label>
                            &nbsp;&nbsp;&nbsp;
                            <label class="radio-inline">
                                <input type="radio"
                                value="parCourriel"
                                id="NotifiezMoiId"
                                formControlName = "notification">&nbsp;Par courriel
                            </label>

                            &nbsp;&nbsp;&nbsp;
                            <label class="radio-inline">
                                <input type="radio"
                                value="telephone"
                                id="NotifiezMoiId"
                                formControlName = "notification">&nbsp;Par message texte
                            </label>
                        </div>
                        </div>
                    <br>
                    <!-- Zone de texte TÉLÉPHONE  -->
                    <div class="form-group row">          
                        <label for="telephoneId" class="col-md-2 col-form-label text-right">Téléphone (SMS) :</label>
                        <div class="col-md-10">
                        <input class="form-control" 
                        id="telephoneId" 
                        type="text" 
                        placeholder="Entrez 10 chiffres seulement.  Par exemple 5141118888" 
                        formControlName="telephone" 
                        [ngClass]="{'is-valid': (problemeForm.get('telephone').touched || 
                        problemeForm.get('telephone').dirty) &&
                        problemeForm.get('telephone').valid , 'is-invalid': (problemeForm.get('telephone').touched || 
                        problemeForm.get('telephone').dirty) &&
                        !problemeForm.get('telephone').valid }" />

                        <span class="form-text" *ngIf="(problemeForm.get('telephone').touched || 
                        problemeForm.get('telephone').dirty) && 
                        (problemeForm.get('telephone').errors ||
                        problemeForm.get('telephone').errors)">
                            <span *ngIf="problemeForm.get('telephone').errors['required']">
                                <small  class="text-muted">
                                    Merci de saisir votre numéro de téléphone.
                                </small>
                            </span>                         
                            <span *ngIf="problemeForm.get('telephone').errors['minlength']">
                            <small  class="text-muted">                  
                                Veuillez entrer plus de caractères.
                            </small>
                            </span>
                            <span *ngIf="problemeForm.get('telephone').errors['maxlength']">
                            <small  class="text-muted">                  
                                Veuillez entrer moins de caractères.
                            </small>
                            </span>                
                            <span *ngIf="problemeForm.get('telephone').errors['pattern']">
                                <small  class="text-muted">                                            
                                    Merci d'entrer seulement des chiffres.
                                </small>
                            </span> 
                        </span>
                        </div>
                    </div><br>
                    <!-- Zone de texte COURRIEL -->          
                    <div class="form-group row">                  
                            <label for="courrielId" class="col-md-2 col-form-label text-right">Adresse courriel :</label>
                        <!-- Indiquer le formGroupName pour avoir accès à formControlName -->              
                        <div class="col-md-10" formGroupName="courrielGroup">
                            <input class="form-control" 
                            id="courrielId" 
                            type="email" 
                            placeholder="Courriel (obligatoire si notification par courriel)" 
                            formControlName = "courriel"
                            [ngClass]="{'is-valid': (problemeForm.get('courrielGroup.courriel').touched || 
                                        problemeForm.get('courrielGroup.courriel').dirty) &&
                                        problemeForm.get('courrielGroup.courriel').valid, 
                                        'is-invalid': (problemeForm.get('courrielGroup.courriel').touched || problemeForm.get('courrielGroup.courriel').dirty) &&
                                        !problemeForm.get('courrielGroup.courriel').valid }" />

                            <span class="form-text" *ngIf="(problemeForm.get('courrielGroup.courriel').touched || 
                                    problemeForm.get('courrielGroup.courriel').dirty) && 
                                    (problemeForm.get('courrielGroup.courriel').errors ||
                                    problemeForm.get('courrielGroup').errors)">                                
                                <span *ngIf="problemeForm.get('courrielGroup.courriel').errors && problemeForm.get('courrielGroup.courriel').errors['required']">
                                    <small  class="text-muted">                       
                                        Merci d'entrer votre adresse électronique.
                                    </small>
                                </span>                         
                                <span *ngIf="problemeForm.get('courrielGroup.courriel').errors && problemeForm.get('courrielGroup.courriel').errors['pattern'] ">
                                    <small  class="text-muted">                        
                                    S.V.P. entrer les informations dans un format valide.
                                    </small>
                                </span>                     
                            </span>                              
                            </div>
                    </div> 
                    <!-- Zone de texte COURRIEL CONFIRMATION -->   
                    
                    <br>
                    <div class="form-group row">                  
                        <label for="courrielConfirmationId" class="col-md-2 col-form-label text-right">Confirmer courriel :</label>
                            
                        <div class="col-md-10" formGroupName="courrielGroup"> 
                            <input class="form-control" 
                            id="courrielConfirmationId" 
                            type="email" 
                            placeholder="Entrez à nouveau le courriel (obligatoire si notification par courriel)" 
                            formControlName = "courrielConfirmation"
                            [ngClass]="{'is-valid': (problemeForm.get('courrielGroup.courrielConfirmation').touched || 
                            problemeForm.get('courrielGroup.courrielConfirmation').dirty) &&
                            problemeForm.get('courrielGroup.courrielConfirmation').valid, 
                            'is-invalid': (problemeForm.get('courrielGroup.courrielConfirmation').touched || problemeForm.get('courrielGroup.courrielConfirmation').dirty) &&
                            !problemeForm.get('courrielGroup.courrielConfirmation').valid || problemeForm.get('courrielGroup').errors}" />
                    
                                <span class="form-text" *ngIf="(problemeForm.get('courrielGroup.courrielConfirmation').touched || 
                                        problemeForm.get('courrielGroup.courrielConfirmation').dirty) && 
                                        (problemeForm.get('courrielGroup.courrielConfirmation').errors ||
                                        problemeForm.get('courrielGroup').errors)">                                
                                        <span *ngIf="problemeForm.get('courrielGroup.courrielConfirmation').errors && problemeForm.get('courrielGroup.courrielConfirmation').errors['required'] ">
                                            <small  class="text-muted">                            
                                                Confirmez votre adresse courriel (la réécrire)
                                            </small>
                                        </span>
                                        <span *ngIf="problemeForm.get('courrielGroup').errors['match']">
                                            <small  class="text-muted"> 
                                                Le courriel n'est pas le même. Reécire svp
                                            </small>
                                        </span>                         
                                </span>                              
                        </div>
                    </div>  
                    <br>
                         <!-- Zone de texte # Unité --> 
                        <div class="form-group row"> 
                            <label for="noUniteId" class="col-md-2 col-form-label text-right"># 
                                Unité :</label>
                            <div class="col-md-10">
                            <input class="form-control"
                            id="noUniteId"
                            type="text"
                            placeholder="Numéro de l'unité si connu"
                            formControlName="noUnite" />
                            </div>
                        </div> 
                    <br>
                    
                    <!-- Zone de texte DESCRIPTION DU PROBLÈME --> 
                    <div class="form-group row"> 
                        <label for="descriptionProblemeId" class="col-md-2 col-form-label text-right">Description du problème :</label>
                        <div class="col-md-10">
                            <textarea class="form-control"
                            rows="3" 
                            id="descriptionProblemeId"
                            type="text"
                            placeholder="Décrire le propblème ici (obligatoire)"
                            formControlName="descriptionProbleme" 
                            [ngClass]="{'is-valid': 
                        (problemeForm.get('descriptionProbleme').touched || 
                        problemeForm.get('descriptionProbleme').dirty) &&
                            problemeForm.get('descriptionProbleme').valid, 
                            'is-invalid': (problemeForm.get('descriptionProbleme').touched 
                        || problemeForm.get('descriptionProbleme').dirty) &&
                            !problemeForm.get('descriptionProbleme').valid }"></textarea>
                            <span class="form-text"
                                *ngIf="(problemeForm.get('descriptionProbleme').touched || 
                                    problemeForm.get('descriptionProbleme').dirty) &&
                                    problemeForm.get('descriptionProbleme').errors">
                                    <span
                                *ngIf="problemeForm.get('descriptionProbleme').errors['required']">
                                    <small class="text-muted">
                                    N'oubliez pas de décrire le plus clairement possible le 
                                problème rencontré.
                                    </small>
                                    </span>
                                    <span
                                *ngIf="problemeForm.get('descriptionProbleme').errors['minlength']">
                                    <small class="text-muted">
                                    La description du problème doit comporter plus de 5 
                                caractères.
                                    </small>
                                    </span> 
                            </span>
                        </div>
                        </div>
                     <!-- Zone de texte # Unité --> 
                    <br>
                        <div class="form-group row"> 
                            <label for="dateProblemeId" class="col-md-2 col-form-label text-right">Date :</label>
                            <div class="col-md-10">
                            <input class="form-control"
                            id="dateProblemeId"
                            type="text"
                            formControlName="dateProbleme" />
                            </div>
                        </div>
                    <br>
            
                     <!-- DEBUT Zone bouton sauvegarder -->
                    <div class="form-group row">
                        <div class="col-md-2"></div>
                            <div class="col-md-10">
                                <span> 
                                    <button class="btn btn-primary"
                                        type="submit" 
                                        [disabled]="!problemeForm.valid">
                                        <i class="fa fa-save"></i>
                                        &nbsp;&nbsp;Sauvegarder
                                    </button>
                                </span>
                            </div>
                    </div>
        <!-- FIN Zone bouton sauvegarder -->
    </form>
    <!-- FIN du formulaire -->